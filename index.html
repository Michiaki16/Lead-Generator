<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PruLeadGenMailer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
            background-image: url("src/img/bg6.png");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
        }

        .top-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: rgba(0, 0, 0, 0.8);
            border-bottom: 2px solid gold;
        }

        .cancel-all-btn {
            background-color: #ff4444;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .cancel-all-btn:hover { background-color: #cc3333; }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: gold;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: black;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .user-name {
            font-weight: bold;
            color: white;
        }

        .user-email {
            font-size: 12px;
            color: #ccc;
        }

        .logout-btn {
            background-color: transparent;
            border: 1px solid gold;
            color: gold;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            margin-left: 10px;
        }

        .logout-btn:hover {
            background-color: gold;
            color: black;
        }

        .search-container {
            width: 90%;
            max-width: 800px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            margin: 20px auto;
            position: relative;
            z-index: 10;
        }

        .main-search-bar {
            width: 100%;
            max-width: 600px;
            display: flex;
            align-items: center;
            border: 2px solid #FFD700;
            border-radius: 50px;
            padding: 10px 20px;
            background-color: black;
            box-shadow: 0 4px 10px rgba(218, 165, 32, 0.5);
            position: relative;
            margin-bottom: 10px;
        }

        .main-search-bar input {
            flex: 1;
            border: none;
            outline: none;
            background: transparent;
            font-size: 18px;
            color: white;
            padding-right: 40px;
        }

        .main-search-bar input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-icon {
            position: absolute;
            right: 15px;
            font-size: 20px;
            color: gold;
            cursor: pointer;
        }

        .company-search-section {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .company-search-input {
            padding: 8px 15px;
            border: 2px solid gold;
            border-radius: 5px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            font-size: 14px;
        }

        .company-search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .remove-selected-btn {
            background-color: #ff6b6b;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .remove-selected-btn:hover { background-color: #ff5252; }

        .status-message {
            color: #4CAF50;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .table-container {
            width: 90%;
            max-width: 90%;
            height: 60%;
            overflow-y: auto;
            overflow-x: auto;
            border: 2px solid gold;
            background-color: rgba(0, 0, 0, 0.8);
            position: relative;
            z-index: 10;
            margin: 0 auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: transparent;
        }

        th, td {
            border: 1px solid gold;
            padding: 10px;
            text-align: left;
            color: white;
        }

        th {
            background-color: rgba(255, 215, 0, 0.2);
            color: white;
            font-weight: bold;
            border-bottom: 2px solid gold;
        }

        .checkbox-cell {
            width: 40px;
            text-align: center;
        }

        .row-checkbox {
            transform: scale(1.2);
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px;

        }

        .action-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .download-btn { background-color: #4CAF50; color: white; }
        .download-btn:hover { background-color: #45a049; }

        .send-emails-btn { background-color: #2196F3; color: white; }
        .send-emails-btn:hover { background-color: #1976D2; }
        .send-emails-btn:disabled { background-color: #666; cursor: not-allowed; }

        .import-btn { background-color: #FF9800; color: white; }
        .import-btn:hover { background-color: #F57C00; }

        .clear-btn { background-color: #f44336; color: white; }
        .clear-btn:hover { background-color: #d32f2f; }

        .template-btn { background-color: #9C27B0; color: white; }
        .template-btn:hover { background-color: #7B1FA2; }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 1;
        }

        

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
        }

        .modal-content {
            background-color: #333;
            margin: 10% auto;
            padding: 20px;
            border: 2px solid gold;
            border-radius: 10px;
            width: 80%;
            max-width: 600px;
            color: white;
        }

        .close {
            color: gold;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover { color: white; }

        .modal textarea {
            width: 100%;
            height: 200px;
            padding: 10px;
            border: 1px solid gold;
            border-radius: 5px;
            background-color: #222;
            color: white;
            font-family: Arial, sans-serif;
            resize: vertical;
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
        }

        .modal-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }

        .save-btn { background-color: #4CAF50; color: white; }
        .cancel-btn { background-color: #666; color: white; }
        .hidden-file-input { display: none; }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: white;
            font-weight: bold;
        }

        .form-group input[type="text"] {
            width: 100%;
            padding: 8px;
            border: 1px solid gold;
            border-radius: 5px;
            background-color: #222;
            color: white;
            font-family: Arial, sans-serif;
        }

        .form-group input[type="file"] {
            width: 100%;
            padding: 8px;
            border: 1px solid gold;
            border-radius: 5px;
            background-color: #222;
            color: white;
        }

        .image-preview {
            margin-top: 10px;
            text-align: center;
        }

        .image-preview img {
            max-width: 200px;
            max-height: auto;
            border: 1px solid gold;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    

    <div class="top-header">
        <button class="cancel-all-btn" id="cancelAllBtn">Cancel All</button>

        <div class="user-profile" id="userProfile">
            <div class="profile-pic" id="profilePic">?</div>
            <div class="user-info">
                <div class="user-name" id="userName">Not logged in</div>
                <div class="user-email" id="userEmail">Please authenticate</div>
            </div>
            <button class="logout-btn" id="authBtn">Login</button>
        </div>
    </div>

    <div class="search-container">
        <div class="main-search-bar">
            <input type="text" id="searchQuery" placeholder="Search..." />
            <span class="search-icon" id="searchBtn">🔍</span>
        </div>

        <div class="company-search-section">
            <input type="text" class="company-search-input" id="companySearch" placeholder="Search company...">
            <button class="remove-selected-btn" id="removeSelectedBtn">Remove Selected</button>
        </div>

        <div class="status-message" id="statusMessage">Ready to scrape</div>
        <p id="status" style="color: white;"></p>
    </div>

    <div class="table-container">
        <table id="resultsTable">
            <thead>
                <tr>
                    <th class="checkbox-cell">
                        <input type="checkbox" id="selectAll">
                    </th>
                    <th>Company Name</th>
                    <th>Phone Number</th>
                    <th>Email Address</th>
                    <th>Company Address</th>
                    <th>Business Website</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <div class="action-buttons">
        <button class="action-btn download-btn" id="downloadBtn">📥 Download Data</button>
        <button class="action-btn send-emails-btn" id="sendEmailsBtn" disabled>📧 Send Emails</button>
        <button class="action-btn import-btn" id="importBtn">📂 Import File</button>
        <button class="action-btn clear-btn" id="clearBtn">🗑️ Clear Table</button>
        <button class="action-btn template-btn" id="templateBtn">✉️ Save Email Template</button>
    </div>

    <input type="file" id="fileInput" class="hidden-file-input" accept=".xlsx,.xls,.csv">

    <div id="emailTemplateModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2>Email Template</h2>
            
            <div class="form-group">
                <label for="emailSubject">Email Subject:</label>
                <input type="text" id="emailSubject" placeholder="Enter email subject..." 
                       value="Business Inquiry for {companyName}">
            </div>
            
            <div class="form-group">
                <label for="emailTemplateText">Email Body:</label>
                <textarea id="emailTemplateText" placeholder="Enter your email template here...

Available variables:
{companyName} - Company name
{email} - Email address
{phone} - Phone number
{address} - Company address
{website} - Business website">Good Day, {companyName}!

We hope this message finds you well. We are reaching out to explore potential business opportunities and discuss how we can support your company's growth.

Your business has caught our attention, and we believe there may be valuable synergies between our organizations. We would love to schedule a brief conversation to learn more about your needs and share how our services might benefit {companyName}.

Please let us know if you would be interested in a short discussion at your convenience.

Sincerely yours,

Lydelyn Romero Quitong
Blue Chalcedony Quartz
Licensed insurance agent
Certified Estate and Wealth Planner
Junior Unit Manager</textarea>
            </div>
            
            <div class="form-group">
                <label>Email Footer:</label>
                <div style="padding: 10px; border: 1px solid gold; border-radius: 5px; background-color: #111; text-align: center;">
                    <img src="src/img/Emailfooter2.jpg" alt="Default Email Footer" style="max-width: 250px; height: auto; border-radius: 5px;">
                    <p style="color: #ccc; font-size: 12px; margin-top: 5px;">This footer will be automatically added to all emails</p>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="modal-btn cancel-btn" id="cancelModalBtn">Cancel</button>
                <button class="modal-btn save-btn" id="saveTemplateBtn">Save Template</button>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>